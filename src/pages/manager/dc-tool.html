<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=windows-1252">
  <meta name="Keywords"
  content="Dreamcast Tool,dc-tool,Serial,IP,dcload,Internet Protocol">
  <title>Dreamcast Tool</title>
  <link href="../../css/style.css" rel="stylesheet" type="text/css">
</head>

<body>
<h1>Dreamcast Tool</h1>

<p>The Dreamcast Tool is the tool responsible of sending your program to the
Sega Dreamcast, in order to execute/debug it. This tab handles the
configuration of this tool.</p>

<div class="screenshot">
<img src="../../img/manager/dc-tool.png" alt="Dreamcast Tool Tab"
title="Dreamcast Tool Tab"></div>

<p>Please choose the configuration accordingly to your scenario:</p>
<ul>
  <li>If you have a <strong>Serial (Coders Cable)</strong>, you should check
    the <span class="font-fixed">Serial</span> button.</li>
  <li>If you have a <strong>Broadband or LAN Adapter</strong> (which is a
    Ethernet card for the Sega Dreamcast), you should check the <span
    class="font-fixed">Internet Protocol (IP)</span> button.</li>
  <li>If you want <strong>Dreamcast Tool to run an emulator instead</strong>,
    you may choose the <span class="font-fixed">Custom</span> option. Please
    note, debug capabilities may be impossible in that mode (or more exactly,
    this will depend of your emulator, e.g. <a target="_blank" href="https://redream.io/">Redream</a> may be an option for this).</li>
  <li>Or you can <strong>click the <span class="font-fixed">None</span> button
    to disable completely</strong> Dreamcast Tool.</li>
</ul>

<p>After choosing your tool version, the corresponding settings panel will
activate.</p>
	
<p>All options that will be activated on the settings panel are described in the <a href="http://gamedev.allusion.net/docs/kos-2.0.0/" target="_blank">KallistiOS documentation</a>. Please
note, <strong>these options are applied all the time</strong>, every time you
will run the <span class="font-fixed">dc-tool</span> program.</p>	
	
<p>In order to use Dreamcast Tool, either Serial or IP versions, you will need
the corresponding dcload. <a href="../tutorials/index.html#dcload">Click here
to learn how to generate the dcload program</a>.</p>
	
<h2>Dreamcast Tool Internet Protocol (dcload-ip)</h2>	

<p>The best option is to use the Internet Protocol (IP) version so in clear, dcload-ip.</p>
	
<p>If you use a <strong>direct cross-cable connection between your Sega
Dreamcast and your computer</strong>, you should use the ARP protocol. The
configuration may be a bit complex, so to do that, you have to:</p>
<ol>
  <li>Plug the cross-cable in the Broadband Adapter/LAN Adapter and to your
    computer.</li>
  <li>Prepare the <a href="../tutorials/index.html#dcload">dcload-ip image or
    CD</a>.</li>
  <li>Choose an IPv4 address for your Sega Dreamcast (e.g. <span
    class="font-fixed">192.168.1.1</span>). Enter that IP in the <span
    class="font-fixed">Dreamcast Tool</span> tab, in the <span
    class="font-fixed">IP Address</span> field. That IP should be of course not
    already taken in your network configuration!</li>
  <li>Enter the <span class="font-fixed">MAC Address</span> of your Broadband
    Adapter/LAN Adapter in the <span class="font-fixed">Dreamcast Tool</span>
    tab, after checking the <span class="font-fixed">Use Address Resolution
    Protocol (ARP) to setup the Dreamcast IP (direct cross-cable
    connection)</span> checkbox. The MAC address is usually printed directly on
    your Broadband Adapter/LAN Adapter card. You should have now something like
    (in that example, the IP address is MAC address is set to <span
    class="font-fixed">aa-bb-cc-dd-ee-ff</span>): 

    <div class="screenshot">
    <img src="../../img/manager/dcload-ip-manager.png"
    alt="Dreamcast Tool IP Example" title="Dreamcast Tool IP Example"></div>
  </li>
  <li>Setup the Windows network card to use the IPv4 address defined at the
    step 3. You need to choose a IPv4 for your computer too, in the same
    network range. 
    <p>In that example, the IP address for the Sega Dreamcast is <span
    class="font-fixed">192.168.1.1</span> and the computer IP is <span
    class="font-fixed">192.168.1.254</span>.</p>

    <div class="screenshot">
    <img src="../../img/manager/dcload-ip-win.png"
    alt="Setting up IP address in Windows"
    title="Setting up IP address in Windows"></div>
  </li>
  <li>You are now ready to use Dreamcast Tool by using direct connection!</li>
</ol>
	
<h2>Dreamcast Tool Serial (dcload-serial)</h2>
	
<p>Another option, which historically was the first available, is using the Serial port, so in clear, dcload-serial.</p>
	
<p>You could use a direct COM port cable (in 2022, I think this is no more relevant... except if you have an old, dedicated machine for Sega Dreamcast development!) or a USB cable. These kind of cables are often based on FT232RL USB-Serial board.</p>
	
<p>In that case, you just have to select the proper COM port in DreamSDK Manager (you can grab it from your Windows&reg; Control Panel), plug the cable to your Sega Dreamcast unit and you are good to go.</p>
	
<p>If you are using an USB board and have trouble when execuing a program remotely to your Sega Dreamcast, i.e., nothing happen in the dcload-serial console, it could be a hardware issue/configuration. Basically, you need to know the following: <span class="font-fixed">RTS</span> and <span class="font-fixed">CTS</span> need to be swapped on the USB to Serial board much like <span class="font-fixed">RXD</span> and <span class="font-fixed">TXD</span> had as well. In summary:</p>

<div class="fixed-block">
DC-RXD -&gt; Serial-TXD<br>
DC-TXD -&gt; Serial-RXD<br>
DC-RTS -&gt; Serial-CTS<br>
DC-CTS -&gt; Serial-RTS<br>
</div>
	
<p>Another thing to note that isn't stated at all is that the USB to Serial board had its jumper changed from the default 5V to the 3V setting. Unknown to if this effects anything with communication, but I thought it was worth bringing up to anyone else who attempts this mod and runs into a similar issue. <a href="https://dcemulation.org/phpBB/viewtopic.php?p=1059034" target="_blank">You can read more on these points here</a>.</p>
	
<h2>Running/Debugging a Sega Dreamcast program</h2>	

<p>At the <a href="../shell/index.html">DreamSDK Shell</a> prompt, you just
have to run the following command:</p>

<div class="fixed-block">
dc-tool -x &lt;yourprog.elf&gt;</div>

<p>Or, most of the time, this is exactly the same command as, if you use
standard KallistiOS <span class="font-fixed">Makefiles</span>:</p>

<div class="fixed-block">
make run</div>

<p><strong>This will start Dreamcast Tool with the settings you have set to
run/debug <span class="font-fixed">&lt;yourprog.elf&gt;</span>!</strong></p>

<p>Please note, you have the possibility to run GDB to debug your program. <a
href="../tutorials/index.html">Please read the dedicaced tutorial to know how
to do that</a>.</p>

<p>Note also, this option will have a huge impact in the debug features of the
Code::Blocks IDE. <a href="../ide/index.html#debugtarget">Click here to learn
more</a>.</p>
<!--FOOTER:START-->

<div id="footer">
© Copyleft 2018-2022 — <a href="https://www.dreamsdk.org/" target="_blank">The
DreamSDK Team</a> and contributors.</div>
<!--FOOTER:END-->
</body>
</html>
